# Phase 5: 1.0 发布准备

## 发布前检查清单

### API 稳定性

- [ ] 冻结公开 API (fincore.__all__)
- [ ] 标记实验性 API (`@deprecated` 或 `_private`)
- [ ] 添加 API 稳定性保证文档
- [ ] 确认所有公开函数有完整 docstring

### 版本管理

- [ ] 更新 __version__ = "1.0.0"
- [ ] 编写 CHANGELOG.md
- [ ] 准备 PyPI 发布说明
- [ ] 更新 README 中的版本徽章

### 质量门禁

- [ ] 测试覆盖率 >= 99%
- [ ] 所有测试通过 (3.11, 3.12, 3.13)
- [ ] Ruff check 无错误
- [ ] MyPy 类型检查通过
- [ ] 文档构建无警告

### 发布准备

- [ ] 创建 git tag v1.0.0
- [ ] 构建发布包
- [ ] 测试 PyPI 安装
- [ ] 发布 GitHub Release

## CHANGELOG 模板

```markdown
# Changelog

## [1.0.0] - 2025-XX-XX

### Added
- AnalysisContext API for lazy metric computation
- RollingEngine for batch rolling metrics
- Pluggable visualization backends (Matplotlib, HTML, Plotly, Bokeh)
- Data provider module (Yahoo Finance, Alpha Vantage, Tushare, AkShare)
- Portfolio optimization module
- Monte Carlo simulation module
- Performance attribution module

### Changed
- Migrated from empyrical to fincore package name
- Lazy loading architecture for faster imports (~0.06s)
- Registry-based method generation (eliminated ~1000 lines of boilerplate)

### Deprecated
- None

### Removed
- None

### Fixed
- Fixed NaN handling in edge cases
- Improved error messages

### Security
- None
```

## API 稳定性文档

```markdown
# API Stability Policy

## Stable APIs

The following APIs are considered stable and will follow semantic versioning:

- `fincore` top-level imports (Empyrical, Pyfolio, analyze)
- All functions in `fincore.__all__`
- AnalysisContext public methods
- RollingEngine public methods

## Internal APIs

Modules and functions prefixed with `_` are internal and may change
without notice between versions.

## Versioning Policy

- Major (X.0.0): Breaking changes to stable APIs
- Minor (0.X.0): New features, backward compatible
- Patch (0.0.X): Bug fixes, backward compatible
```

## 发布后步骤

1. 监控 GitHub Issues
2. 收集用户反馈
3. 计划 1.1.0 版本功能

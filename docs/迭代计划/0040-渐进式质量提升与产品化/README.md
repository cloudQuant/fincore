# 迭代计划 0040: 渐进式质量提升与产品化

## 背景

fincore 项目已经达到了较高的成熟度：
- 150+ 金融指标
- 优雅的三层懒加载架构
- 117 个测试文件，多平台 CI
- 中英文文档齐全

本次迭代的目标是**渐进式提升**，而非大规模重构，聚焦于细节完善和产品化准备。

## 目标

1. 将测试覆盖率提升至 100%
2. 清理技术债务（代码风格、注释）
3. 完善文档（迁移指南、性能基准）
4. 准备 1.0 正式版发布

## 任务分解

### Phase 1: 测试覆盖率 100% (优先级: 高)

| 任务 | 状态 | 负责模块 |
|------|------|----------|
| 补充 stats.py 边界条件测试 | 待完成 | hurst_exponent, r_cubed_turtle |
| 补充 alpha_beta.py 边界测试 | 待完成 | annual_alpha, annual_beta |
| 补充 ratios.py 边界测试 | 待完成 | calmar_ratio, mar_ratio |
| 补充 EVT 模型测试 | 待完成 | gpd_fit, evt_cvar |
| 补充 round_trips.py 边界测试 | 待完成 | gen_round_trip_stats |

### Phase 2: 代码风格统一 (优先级: 中)

| 任务 | 状态 |
|------|------|
| 将剩余中文注释转为英文 | 进行中 |
| 逐步减少 Ruff ignore 规则 | 待开始 |
| 统一 docstring 风格为 Google | 进行中 |

### Phase 3: 文档完善 (优先级: 中)

| 任务 | 状态 |
|------|------|
| 编写 empyrical 迁移指南 | 待开始 |
| 添加性能基准测试 | 待开始 |
| 补充实际案例研究 | 待开始 |
| 完善 API 参考文档 | 进行中 |

### Phase 4: 依赖更新 (优先级: 低)

| 任务 | 状态 |
|------|------|
| 更新 numpy 最低版本 | 待开始 |
| 更新 pandas 最低版本 | 待开始 |
| 测试 Python 3.14 兼容性 | 待开始 |

### Phase 5: 1.0 发布准备 (优先级: 高)

| 任务 | 状态 |
|------|------|
| 冻结公开 API | 待开始 |
| 编写 CHANGELOG.md | 待开始 |
| 准备 PyPI 发布说明 | 待开始 |
| 添加稳定性保证文档 | 待开始 |

## 验收标准

- 所有测试通过，覆盖率 >= 99%
- Ruff check 无错误
- 文档完整（用户手册、API 文档、迁移指南）
- 版本号提升至 1.0.0

## 时间估算

- Phase 1: 2-3 天
- Phase 2: 1-2 天
- Phase 3: 2-3 天
- Phase 4: 1 天
- Phase 5: 1 天

总计: ~7-10 天
